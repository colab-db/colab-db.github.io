import{a6 as j,f as T,q as I,k as S,a7 as U,N as A,x as W,b as M,D as H,o as P,c as q,W as w,J as C,O as y,a0 as E,$ as B,X as J,S as _,u as k,H as Q,Y as X,Z as Y,aa as Z}from"./entry.23c56394.js";import{m as $,y as G,S as ee,h as te,o as f,c as ae,u as ne,l as O,P as D,t as F,b as le,p as oe,R as L,a as m,D as re,N as V,g as K,I as se}from"./use-outside-click.3e7f8ae2.js";import{u as ue,x as ie,a as h}from"./use-tracked-pointer.9855fc8b.js";function ce({container:a,accept:d,walk:b,enabled:v}){j(()=>{let e=a.value;if(!e||v!==void 0&&!v.value)return;let c=$(a);if(!c)return;let s=Object.assign(u=>d(u),{acceptNode:d}),p=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;p.nextNode();)b(p.currentNode)})}var de=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(de||{}),ve=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ve||{});function pe(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let z=Symbol("MenuContext");function N(a){let d=H(z,null);if(d===null){let b=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,N),b}return d}let me=T({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:d,attrs:b}){let v=I(1),e=I(null),c=I(null),s=I([]),p=I(""),u=I(null),l=I(1);function t(o=i=>i){let i=u.value!==null?s.value[u.value]:null,n=se(o(s.value.slice()),x=>f(x.dataRef.domRef)),r=i?n.indexOf(i):null;return r===-1&&(r=null),{items:n,activeItemIndex:r}}let g={menuState:v,buttonRef:e,itemsRef:c,items:s,searchQuery:p,activeItemIndex:u,activationTrigger:l,closeMenu:()=>{v.value=1,u.value=null},openMenu:()=>v.value=0,goToItem(o,i,n){let r=t(),x=ie(o===h.Specific?{focus:h.Specific,id:i}:{focus:o},{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});p.value="",u.value=x,l.value=n!=null?n:1,s.value=r.items},search(o){let i=p.value!==""?0:1;p.value+=o.toLowerCase();let n=(u.value!==null?s.value.slice(u.value+i).concat(s.value.slice(0,u.value+i)):s.value).find(x=>x.dataRef.textValue.startsWith(p.value)&&!x.dataRef.disabled),r=n?s.value.indexOf(n):-1;r===-1||r===u.value||(u.value=r,l.value=1)},clearSearch(){p.value=""},registerItem(o,i){let n=t(r=>[...r,{id:o,dataRef:i}]);s.value=n.items,u.value=n.activeItemIndex,l.value=1},unregisterItem(o){let i=t(n=>{let r=n.findIndex(x=>x.id===o);return r!==-1&&n.splice(r,1),n});s.value=i.items,u.value=i.activeItemIndex,l.value=1}};return G([e,c],(o,i)=>{var n;g.closeMenu(),ee(i,te.Loose)||(o.preventDefault(),(n=f(e))==null||n.focus())},S(()=>v.value===0)),U(z,g),ae(S(()=>ne(v.value,{[0]:O.Open,[1]:O.Closed}))),()=>{let o={open:v.value===0,close:g.closeMenu};return D({ourProps:{},theirProps:a,slot:o,slots:d,attrs:b,name:"Menu"})}}}),fe=T({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${F()}`}},setup(a,{attrs:d,slots:b,expose:v}){let e=N("MenuButton");v({el:e.buttonRef,$el:e.buttonRef});function c(l){switch(l.key){case m.Space:case m.Enter:case m.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),M(()=>{var t;(t=f(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(h.First)});break;case m.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),M(()=>{var t;(t=f(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(h.Last)});break}}function s(l){switch(l.key){case m.Space:l.preventDefault();break}}function p(l){a.disabled||(e.menuState.value===0?(e.closeMenu(),M(()=>{var t;return(t=f(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),pe(()=>{var t;return(t=f(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let u=le(S(()=>({as:a.as,type:d.type})),e.buttonRef);return()=>{var l;let t={open:e.menuState.value===0},{id:g,...o}=a,i={ref:e.buttonRef,id:g,type:u.value,"aria-haspopup":"menu","aria-controls":(l=f(e.itemsRef))==null?void 0:l.id,"aria-expanded":a.disabled?void 0:e.menuState.value===0,onKeydown:c,onKeyup:s,onClick:p};return D({ourProps:i,theirProps:o,slot:t,attrs:d,slots:b,name:"MenuButton"})}}}),ge=T({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${F()}`}},setup(a,{attrs:d,slots:b,expose:v}){let e=N("MenuItems"),c=I(null);v({el:e.itemsRef,$el:e.itemsRef}),ce({container:S(()=>f(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function s(t){var g;switch(c.value&&clearTimeout(c.value),t.key){case m.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case m.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let o=e.items.value[e.activeItemIndex.value];(g=f(o.dataRef.domRef))==null||g.click()}e.closeMenu(),K(f(e.buttonRef));break;case m.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Next);case m.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Previous);case m.Home:case m.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.First);case m.End:case m.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Last);case m.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>{var o;return(o=f(e.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case m.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),M(()=>re(f(e.buttonRef),t.shiftKey?V.Previous:V.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function p(t){switch(t.key){case m.Space:t.preventDefault();break}}let u=oe(),l=S(()=>u!==null?u.value===O.Open:e.menuState.value===0);return()=>{var t,g;let o={open:e.menuState.value===0},{id:i,...n}=a,r={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(g=f(e.buttonRef))==null?void 0:g.id,id:i,onKeydown:s,onKeyup:p,role:"menu",tabIndex:0,ref:e.itemsRef};return D({ourProps:r,theirProps:n,slot:o,attrs:d,slots:b,features:L.RenderStrategy|L.Static,visible:l.value,name:"MenuItems"})}}}),be=T({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${F()}`}},setup(a,{slots:d,attrs:b,expose:v}){let e=N("MenuItem"),c=I(null);v({el:c,$el:c});let s=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),p=S(()=>({disabled:a.disabled,textValue:"",domRef:c}));A(()=>{var n,r;let x=(r=(n=f(c))==null?void 0:n.textContent)==null?void 0:r.toLowerCase().trim();x!==void 0&&(p.value.textValue=x)}),A(()=>e.registerItem(a.id,p)),W(()=>e.unregisterItem(a.id)),j(()=>{e.menuState.value===0&&(!s.value||e.activationTrigger.value!==0&&M(()=>{var n,r;return(r=(n=f(c))==null?void 0:n.scrollIntoView)==null?void 0:r.call(n,{block:"nearest"})}))});function u(n){if(a.disabled)return n.preventDefault();e.closeMenu(),K(f(e.buttonRef))}function l(){if(a.disabled)return e.goToItem(h.Nothing);e.goToItem(h.Specific,a.id)}let t=ue();function g(n){t.update(n)}function o(n){!t.wasMoved(n)||a.disabled||s.value||e.goToItem(h.Specific,a.id,0)}function i(n){!t.wasMoved(n)||a.disabled||!s.value||e.goToItem(h.Nothing)}return()=>{let{disabled:n}=a,r={active:s.value,disabled:n,close:e.closeMenu},{id:x,...R}=a;return D({ourProps:{id:x,ref:c,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,onClick:u,onFocus:l,onPointerenter:g,onMouseenter:g,onPointermove:o,onMousemove:o,onPointerleave:i,onMouseleave:i},theirProps:R,slot:r,attrs:b,slots:d,name:"MenuItem"})}}});function xe(a,d){return P(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[w("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function he(a,d){return P(),q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[w("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})])}const ye={class:"w-full py-4 px-2 flex justify-between"},Ie={class:"flex justify-start items-center space-x-1"},we={key:0,class:"flex items-center space-x-1"},Se=y("span",null,"contain",-1),ke={class:"bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300"},Me={class:"flex items-center"},Re={class:"py-1"},_e=["onClick"],Pe=y("span",{class:"sr-only"},"Filters",-1),Ce={__name:"FilterBar",props:["lenNotebooks","q"],emits:["update:sort","update:showmobilefilters"],setup(a,{emit:d}){const b=a,v=I("Newest"),e={"Most stars":!0,Newest:!1,"Most comments":!1};function c(s){v.value=s,d("update:sort",v)}return(s,p)=>(P(),C("div",ye,[y("div",Ie,[y("span",null,E(b.lenNotebooks)+" Notebooks",1),a.q!=""?(P(),C("div",we,[Se,B(),y("span",ke,E(a.q),1)])):J("",!0)]),y("div",Me,[w(k(me),{as:"div",class:"relative inline-block text-left"},{default:_(()=>[y("div",null,[w(k(fe),{class:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900"},{default:_(()=>[B(" Sort "),w(k(xe),{class:"flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]),_:1})]),w(Q,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:_(()=>[w(k(ge),{class:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-2xl bg-white z-50 ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:_(()=>[y("div",Re,[(P(),C(X,null,Y(e,(u,l)=>w(k(be),{key:l},{default:_(({active:t})=>[y("button",{onClick:g=>c(l),class:Z([v.value==l?"font-medium text-gray-900":"text-gray-500",t?"bg-gray-100":"","block px-4 py-2 text-sm"])},E(l),11,_e)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),y("button",{type:"button",class:"p-2 -m-2 ml-4 sm:ml-6 text-gray-400 hover:text-gray-500 lg:hidden",onClick:p[0]||(p[0]=u=>d("update:showmobilefilters"))},[Pe,w(k(he),{class:"w-5 h-5","aria-hidden":"true"})])])]))}};export{Ce as default};
